import{s as lt,n as H}from"../chunks/scheduler.42a75b95.js";import{S as nt,i as at,g as _,h as m,j as p,f as u,k as L,a as w,z as s,m as E,n as T,s as g,x as A,c as b,I as ot,A as rt}from"../chunks/index.c96359d9.js";import{h as st,u as ct,e as X}from"../chunks/each.8f8264dc.js";function Z(r,t,e){const l=r.slice();return l[4]=t[e],l}function it(r){let t,e,l=r[7]+"",n;return{c(){t=_("h3"),e=E("An error occured loading the data: "),n=E(l)},l(a){t=m(a,"H3",{});var d=p(t);e=T(d,"An error occured loading the data: "),n=T(d,l),d.forEach(u)},m(a,d){w(a,t,d),s(t,e),s(t,n)},p:H,d(a){a&&u(t)}}}function ht(r){let t,e,l="Pets",n;function a(o,h){return o[3].length>0?ut:dt}let c=a(r)(r);return{c(){t=_("div"),e=_("h2"),e.textContent=l,n=g(),c.c(),this.h()},l(o){t=m(o,"DIV",{class:!0});var h=p(t);e=m(h,"H2",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1yvgxdd"&&(e.textContent=l),n=b(h),c.l(h),h.forEach(u),this.h()},h(){L(e,"class","title"),L(t,"class","container")},m(o,h){w(o,t,h),s(t,e),s(t,n),c.m(t,null)},p(o,h){c.p(o,h)},d(o){o&&u(t),c.d()}}}function dt(r){let t,e=`No pets found. <a href="/">Go home</a>, or
						<a href="/register/pet">register a new pet</a>`;return{c(){t=_("p"),t.innerHTML=e},l(l){t=m(l,"P",{"data-svelte-h":!0}),A(t)!=="svelte-itb9m6"&&(t.innerHTML=e)},m(l,n){w(l,t,n)},p:H,d(l){l&&u(t)}}}function ut(r){let t,e,l="<tr><th>Name</th> <th>Breed</th> <th>Email</th> <th>Gender</th> <th>Sterile</th> <th>Additional Information</th> <th></th></tr>",n,a,d=X(r[3]),c=[];for(let o=0;o<d.length;o+=1)c[o]=tt(Z(r,d,o));return{c(){t=_("table"),e=_("thead"),e.innerHTML=l,n=g(),a=_("tbody");for(let o=0;o<c.length;o+=1)c[o].c();this.h()},l(o){t=m(o,"TABLE",{class:!0});var h=p(t);e=m(h,"THEAD",{"data-svelte-h":!0}),A(e)!=="svelte-gj77iw"&&(e.innerHTML=l),n=b(h),a=m(h,"TBODY",{});var i=p(a);for(let v=0;v<c.length;v+=1)c[v].l(i);i.forEach(u),h.forEach(u),this.h()},h(){L(t,"class","table is-fullwidth")},m(o,h){w(o,t,h),s(t,e),s(t,n),s(t,a);for(let i=0;i<c.length;i+=1)c[i]&&c[i].m(a,null)},p(o,h){if(h&3){d=X(o[3]);let i;for(i=0;i<d.length;i+=1){const v=Z(o,d,i);c[i]?c[i].p(v,h):(c[i]=tt(v),c[i].c(),c[i].m(a,null))}for(;i<c.length;i+=1)c[i].d(1);c.length=d.length}},d(o){o&&u(t),ot(c,o)}}}function tt(r){let t,e,l=r[4].name+"",n,a,d,c=r[4].breed+"",o,h,i,v=r[4].email+"",I,M,C,G=r[4].gender+"",j,N,D,O=r[4].sterile+"",S,q,x,$=r[4].info+"",z,B,k,V="Delete",P,R,Y;function et(){return r[2](r[4])}return{c(){t=_("tr"),e=_("td"),n=E(l),a=g(),d=_("td"),o=E(c),h=g(),i=_("td"),I=E(v),M=g(),C=_("td"),j=E(G),N=g(),D=_("td"),S=E(O),q=g(),x=_("td"),z=E($),B=g(),k=_("td"),k.textContent=V,P=g(),this.h()},l(y){t=m(y,"TR",{});var f=p(t);e=m(f,"TD",{});var F=p(e);n=T(F,l),F.forEach(u),a=b(f),d=m(f,"TD",{});var J=p(d);o=T(J,c),J.forEach(u),h=b(f),i=m(f,"TD",{});var K=p(i);I=T(K,v),K.forEach(u),M=b(f),C=m(f,"TD",{});var Q=p(C);j=T(Q,G),Q.forEach(u),N=b(f),D=m(f,"TD",{});var U=p(D);S=T(U,O),U.forEach(u),q=b(f),x=m(f,"TD",{});var W=p(x);z=T(W,$),W.forEach(u),B=b(f),k=m(f,"TD",{class:!0,"data-svelte-h":!0}),A(k)!=="svelte-1mj0fhn"&&(k.textContent=V),P=b(f),f.forEach(u),this.h()},h(){L(k,"class","button is-danger")},m(y,f){w(y,t,f),s(t,e),s(e,n),s(t,a),s(t,d),s(d,o),s(t,h),s(t,i),s(i,I),s(t,M),s(t,C),s(C,j),s(t,N),s(t,D),s(D,S),s(t,q),s(t,x),s(x,z),s(t,B),s(t,k),s(t,P),R||(Y=rt(k,"click",et),R=!0)},p(y,f){r=y},d(y){y&&u(t),R=!1,Y()}}}function ft(r){let t,e="Loading...";return{c(){t=_("h3"),t.textContent=e},l(l){t=m(l,"H3",{"data-svelte-h":!0}),A(t)!=="svelte-1kiwilm"&&(t.textContent=e)},m(l,n){w(l,t,n)},p:H,d(l){l&&u(t)}}}function _t(r){let t,e,l={ctx:r,current:null,token:null,hasCatch:!0,pending:ft,then:ht,catch:it,value:3,error:7};return st(r[0],l),{c(){t=_("main"),e=_("section"),l.block.c(),this.h()},l(n){t=m(n,"MAIN",{});var a=p(t);e=m(a,"SECTION",{class:!0});var d=p(e);l.block.l(d),d.forEach(u),a.forEach(u),this.h()},h(){L(e,"class","section")},m(n,a){w(n,t,a),s(t,e),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null},p(n,[a]){r=n,ct(l,r,a)},i:H,o:H,d(n){n&&u(t),l.block.d(),l.token=null,l=null}}}function mt(r){const t=(async()=>{console.log("Loading table...");const a=await(await fetch("https://qt7sosre49.execute-api.eu-west-2.amazonaws.com/prod/pets")).json();return console.log(a),a})(),e=async n=>{await fetch("https://qt7sosre49.execute-api.eu-west-2.amazonaws.com/prod/pets/email/"+n,{method:"DELETE"}).then(a=>{console.log(a)}).catch(a=>{console.log(a)}).finally(()=>console.log("deleteRow call finished"))};return[t,e,n=>e(n.email)]}class bt extends nt{constructor(t){super(),at(this,t,mt,_t,lt,{})}}export{bt as component};
